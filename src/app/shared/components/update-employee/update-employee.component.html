<app-header [isModal]="true" [title]="employee? 'Actualizar empleado': 'Agregar empleado'"></app-header>

<ion-content>
  <form [formGroup]="form" (ngSubmit)="submit()" class="ion-padding ion-text-center" (keypress.enter)="submit()">

    <ion-avatar *ngIf="form.value.img">
      <img [src]="form.value.img" />
    </ion-avatar>

    <ion-icon class="img-icon" *ngIf="!form.value.img" name="image-outline"></ion-icon>
    <br>

    <ion-button (click)="takeImage()" mode="ios" size="small" shape="round">
      Tome/Elija una foto
    </ion-button>

    <app-login-input
    autocomplete="name"
    type="text"
    label="Nombre"
    [control]="form.controls.name"
    ></app-login-input>

    <div class="validators" *ngIf="form.controls.name.errors && form.controls.name.touched">
      <div *ngIf="form.controls.name.errors?.['required']">El nombre es requerido</div>
    </div>

    <app-login-input
    autocomplete="salary"
    type="number"
    label="Salario"
    [control]="form.controls.salary"
    (ionInput) = "setNumberInput()"
    ></app-login-input>

    <div class="validators" *ngIf="form.controls.salary.errors && form.controls.salary.touched">
      <div *ngIf="form.controls.salary.errors?.['required']">El salario es requerido</div>
      <div *ngIf="form.controls.salary.errors?.['min']">El salario m√≠nimo es 0</div>
    </div>

    <app-login-input
    autocomplete="charge"
    type="text"
    label="Cargo"
    [control]="form.controls.charge"
    ></app-login-input>

    <div class="validators" *ngIf="form.controls.charge.errors && form.controls.charge.touched">
      <div *ngIf="form.controls.charge.errors?.['required']">El cargo es requerido</div>
    </div>

    <app-login-input
    autocomplete="staff"
    type="text"
    label="Plantel"
    [control]="form.controls.staff"
    ></app-login-input>

    <div class="validators" *ngIf="form.controls.staff.errors && form.controls.staff.touched">
      <div *ngIf="form.controls.staff.errors?.['required']">El plantel es requerido</div>
    </div>

    <ion-button class="submit" type="submit" expand="block" mode="ios" [disabled]="form.invalid">
      {{ employee? 'Actualizar empleado': 'Agregar empleado' }}
      <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
    </ion-button>

  </form>
</ion-content>
